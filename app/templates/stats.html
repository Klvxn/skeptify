<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/stats_style.css">
    <link rel="stylesheet" href="/static/css/base.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Spotify</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <span class="navbar-brand fw-bold">Your Spotify Stats</span> &ThickSpace; &ThickSpace;
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 fw-medium">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link"  href="/me/spotify-stats/#stats-tracks" >Top Tracks</a></li>
                    <li class="nav-item"><a class="nav-link" href="/me/spotify-stats/#stats-artists">Top Artists</a></li>
                </ul>
                <ul class="navbar-nav me-3 mb-2 mb-lg-0 text-center">
                    <li class="nav-item"><a class="nav-link fw-semibold ">Hello {{ user.name }}</a></li>
                    <li class="nav-item"><img src="{{ user.image_url }}" alt="" class="rounded" width="55" height="50"></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="text-center my-container">
        <div class="pills-tab">
            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pills-short-term-tab" data-bs-toggle="pill" data-bs-target="#pills-short-term" type="button" role="tab" aria-controls="pills-short-term" aria-selected="true">4 Weeks</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pills-medium-term-tab" data-bs-toggle="pill" data-bs-target="#pills-medium-term" type="button" role="tab" aria-controls="pills-medium-term" aria-selected="false">6 Months</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="pills-long-term-tab" data-bs-toggle="pill" data-bs-target="#pills-long-term" type="button" role="tab" aria-controls="pills-long-term" aria-selected="false">All Time</button>
                </li>
            </ul>
        </div>
        <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-short-term" role="tabpanel" aria-labelledby="pills-short-term-tab" tabindex="0">
                <section id="stats-tracks">
                    <h3>Your Top 10 Most Played Tracks</h3>
                    <div class="stats">
                        {% for item in short_term_tracks.values %}
                            {% for track in item %}
                                <div class="item">
                                    <img src="{{ track.image_url }}" class="shadow mb-3" alt="" width="165" height="165"> <br>
                                    <a href="{{ track.ext_url }}">
                                        <b>{{ track.name|truncatechars:40 }} </b><br>
                                        <span >{{ track.primary_artist }}</span> 
                                    </a>
                                    <h2 class=" mt-2">{{ track.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
                <section id="stats-artists">
                    <h3>Your Top 10 Most Played Artists</h3>
                    <div class="stats">
                        {% for item in short_term_artists.values %}
                            {% for artist in item %}
                                <div class="item" >
                                    <img src="{{ artist.image_url }}" alt="" class="shadow mb-3" width="165" height="165"> <br>
                                    <a href="{{ artist.ext_url }}" class=""><b>{{ artist.name }} </b><br></a>
                                    <h2 class="mt-2">{{ artist.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
            </div>
            <div class="tab-pane fade" id="pills-medium-term" role="tabpanel" aria-labelledby="pills-medium-term-tab" tabindex="0">
                <section id="stats-tracks">
                    <h3>Your Top 10 Most Played Tracks</h3>
                    <div class="stats">
                        {% for item in medium_term_tracks.values %}
                            {% for track in item %}
                                <div class="item">
                                    <img src="{{ track.image_url }}" class="shadow mb-3" alt="" width="165" height="165"> <br>
                                    <a href="{{ track.ext_url }}">
                                        <b>{{ track.name|truncatechars:40 }} </b><br>
                                        <span >{{ track.primary_artist }}</span> 
                                    </a>
                                    <h2 class=" mt-2">{{ track.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
                <section id="stats-artists">
                    <h3>Your Top 10 Most Played Artists</h3>
                    <div class="stats">
                        {% for item in medium_term_artists.values %}
                            {% for artist in item %}
                                <div class="item" >
                                    <img src="{{ artist.image_url }}" alt="" class="shadow mb-3" width="165" height="165"> <br>
                                    <a href="{{ artist.ext_url }}" class=""><b>{{ artist.name }} </b><br></a>
                                    <h2 class="mt-2">{{ artist.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
            </div>
            <div class="tab-pane fade" id="pills-long-term" role="tabpanel" aria-labelledby="pills-long-term-tab" tabindex="0">
                <section id="stats-tracks">
                    <h3>Your Top 10 Most Played Tracks</h3>
                    <div class="stats">
                        {% for item in long_term_tracks.values %}
                            {% for track in item %}
                                <div class="item">
                                    <img src="{{ track.image_url }}" class="shadow mb-3" alt="" width="165" height="165"> <br>
                                    <a href="{{ track.ext_url }}">
                                        <b>{{ track.name|truncatechars:40 }} </b><br>
                                        <span >{{ track.primary_artist }}</span> 
                                    </a>
                                    <h2 class=" mt-2">{{ track.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
                <section id="stats-artists">
                    <h3>Your Top 10 Most Played Artists</h3>
                    <div class="stats">
                        {% for item in long_term_artists.values %}
                            {% for artist in item %}
                                <div class="item" >
                                    <img src="{{ artist.image_url }}" alt="" class="shadow mb-3" width="165" height="165"> <br>
                                    <a href="{{ artist.ext_url }}" class=""><b>{{ artist.name }} </b><br></a>
                                    <h2 class="mt-2">{{ artist.idx }}</h2>
                                </div>
                            {% endfor %}
                        {% endfor %}
                    </div>
                </section>
            </div>
        </div>
    </div>
</body>
</html>
